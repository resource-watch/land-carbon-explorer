(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{409:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return $e}});var n=a(2809),r=a(7294),o=a(8093),i=a(9226),s=a(5564),l=a.n(s),c=a(9008),d=a(9753),u=a(4341),p=a(1631),h=i.v9,f=a(7813),m=a.n(f),g=a(7325),b=a(8350),y=a(8767),w=a(6388),v=JSON.parse('{"data":[{"type":"dataset","id":"test-dataset-1","attributes":{"name":"[internal] Test layer 1","active":true,"subtitle":"","metadata":[{"type":"metadata","attributes":{"language":"en","name":"Test Layer 1","description":"This is a **test** _description_ that should support [markdown](https://land.resourcewatch.org).","source":"Vizzuality","info":{"rwId":null,"data_type":"Raster","name":"Test Layer 1","sources":[{"source-name":"Vizzuality","id":0,"source-description":""}],"technical_title":"Test layer 1: this is the name of the publication","functions":"A layer for testing the LCL app","cautions":"Don\'t let this layer get into prod!","citation":"Gassert, Francis, et al. 2021 \'Test layer 1\'. Unpublished.","license":"Creative Commons Attribution 4.0 International","license_link":"https://creativecommons.org/licenses/by/4.0/","geographic_coverage":"Global","spatial_resolution":"30 m","date_of_content":"2020","frequency_of_updates":null,"learn_more_link":"https://resourcewatch.org","data_download_link":null,"data_download_original_link":"https://resourcewatch.org"}}}],"dataPath":"","attributesPath":null,"connectorType":"rest","provider":"gee","userId":"59a4168c9557070001cb9c77","connectorUrl":"","sources":[],"tableName":"projects/wri-datalab/HansenComposite_14-15","status":"saved","published":false,"overwrite":false,"subscribable":{},"mainDateField":null,"env":"production","geoInfo":true,"protected":false,"legend":{"date":[],"region":[],"country":[],"nested":[],"integer":[],"short":[],"byte":[],"double":[],"float":[],"half_float":[],"scaled_float":[],"boolean":[],"binary":[],"text":[],"keyword":[]},"clonedHost":{},"errorMessage":"","taskId":null,"createdAt":"2019-09-04T19:15:59.268Z","updatedAt":"2020-02-13T02:42:25.409Z","dataLastUpdated":"2020-02-13T02:42:25.409Z","layer":[{"type":"layer","id":"forest-height-and-extent","attributes":{"name":"2000-2020 Forest Height and Extent","dataset":"test-dataset-2","description":"Stable forest height, forest height change (gain and loss) between 2000 and 2020. The forest height change refers to areas with forest height increase (gain) and forest height decrease or change to other land uses (loss) between 2000 and 2020.","provider":"leaflet","type":"raster","layerConfig":{},"source":{"tiles":["https://storage.googleapis.com/lcl_tiles/GLCLU2020/forest/{z}/{x}/{y}.png"],"minzoom":1,"maxzoom":12},"legendConfig":{"items":[{"color":"#c1e866","name":"Stable Low Forest  (5-10m)","id":0},{"color":"#97bd3d","name":"Stable Medium Forest (10-20m)","id":1},{"color":"#689106","name":"Stable Tall Forest (20+m)","id":2},{"color":"#f59fc8","name":"Small Net Forest Height Gain (5-10m gain)","id":3},{"color":"#dc5796","name":"Large Net Forest Height Gain (10+m gain)","id":4},{"color":"#a280ff","name":"Small Net Forest Height Loss (5-10m loss)","id":5},{"color":"#4600ff","name":"Large Net Forest Height Loss (10+m loss)","id":6}],"type":"basic"}}}]}},{"type":"dataset","id":"test-dataset-3","attributes":{"name":"[internal] Water Extent and Change","active":true,"subtitle":"","metadata":[{"id":"615decfa6cd78b001acc1b67","type":"metadata","attributes":{"dataset":"b83ad197-eb95-44e2-8ec3-3351ab926421","application":"rw","resource":{"id":"b83ad197-eb95-44e2-8ec3-3351ab926421","type":"dataset"},"language":"en","name":"Water Extent and Change","description":"### Overview  \\n  \\n_**The Water data is still a draft product and data are subject to change in the future**_\\n  \\n  \\nThe global annual surface water percent and surface water dynamics maps were created by the Global Land Analysis and Discovery Lab (GLAD) laboratory, and the data is available at 30-meter spatial resolution, globally, from 1999 to 2020. The GLAD laboratory classified all available Landsat 5, 7, and 8 scenes. Each scene was classified per pixel to identify land, water, and ground obscured by cloud, shadow, haze, or ice. Land and water observations were summed by month from all available images. These counts were aggregated to estimate the annual temporal percent of the year each pixel had water presence, resulting in values of 0-100, and pixels with no observations a no-data value of 255. In order to characterize the type of surface water dynamic over the 22 years, the annual water percent was estimated for each year and temporally filtered to provide greater consistency. A series of rules were applied to this time series to characterize it into permanent land or water, stable seasonal, unidirectional loss or gain, temporary dry or wet period, and high-frequency transitions between annual states of water and land. These classes are mapped both as discrete classes and as a continuum representing the class and percent water. \\n  \\n  \\nThe Global Land Analysis and Discovery Lab (GLAD) laboratory in the Department of Geographical Sciences at UMD investigates methods, causes, and impacts of global land surface change.  Earth observation imagery is the primary data source, and the land cover extent and change is the primary topic of interest. GLAD aspires to generate new science insights concerning land resources, educate the next generation of remote sensing-based land change scientists, and disseminate land monitoring capabilities to operational settings nationally and internationally.\\n  \\n  \\n### Methodology  \\n  \\nOpen surface water, or simply water, is defined as inland water that covers \u226550% of a pixel and is not obscured by objects on or above the water surface, for example, forest canopy, floating aquatic vegetation, bridges, or ice. The analysis had three major steps: (1) classify every Landsat scene 1999-2020; (2) create an annual percent water time-series; and (3) characterize the time-series into various dynamics classes. \\r\\n  \\n  \\nAll Landsat 5, 7, and 8 scenes from 1999-2020 were classified into land, water, and unusable data. Due to the diversity of reflectance patterns for open surface water targets, an ensemble of hierarchical, bagged classification trees were used to discriminate clear observations from those contaminated by cloud, shadow, and ice and to discriminate water from land. These classification trees were developed from a training set of 150-180 fully labeled scenes per sensor [(Potapov et al., 2015)](https://doi.org/10.1016/j.rse.2014.11.027). The classification models utilize all the Landsat bands, normalized difference ratios of each pair of spectral bands, and 3x3 pixel spatial averages of all bands and ratios, as well as, utilize topographic inputs of elevation and derived slope, aspect, and hillshade data.\\r\\n  \\n  \\nThe annual water percent time series was derived from the counts of water and land observations. To account for intra-annual variation in clear observation frequency (e.g. fewer observations in the far north in winter due to low sun elevations or in tropical monsoon environments due to high cloud cover), the percent of land and water observations flagged as water (water / (water + land)) was first calculated per meteorological season (December-February, March-May, June-August, September-November) of each year. Then the average water percent of the seasons with data was assigned as the annual water percent. Temporal filters and manual masks were applied to remove noise and omission/commission errors. \\r\\n  \\n  \\nAn inter-annual water dynamics model was developed to characterize and visualize the dynamics of water presence 1999-2020. The annual water percent time series was first smoothed using a 3-year mean moving window, and the range and mean were calculated per pixel. Pixels with a range of \u226433% and a mean of \u226410% or \u226590% were labeled permanent land and water, respectively, providing a stable target with low sensitivity to possible omission or commission effects due to image artifacts or atmospheric conditions. Change pixels were identified as pixels with a range of \u226550%, and all other pixels labeled as stable seasonal, characterized by having little or no inter-annual variation in water presence and consistent intra-annual variation. By an analysis of all local maxima and minima in the time-series, pixels labeled as change were further characterized into the following main change types: gain, loss, dry period (water-land-water), wet period (land-water-land), and high-frequency (3 or more) land-water transitions. For more details, please refer to Pickens et al. [(2020)](https://doi.org/10.1016/j.rse.2020.111792).\\r\\n  \\n  \\nFor the full documentation, please click on the \u201cLearn more\u201d button.  \\n  \\n### Additional Information  \\n  \\nResource Watch shows only a subset of the dataset. For access to the full dataset and additional information, click on the \u201cLearn more\u201d button.  \\n  \\n### Visualizing the Data  \\n  \\nOur team reformatted this dataset before displaying it on Resource Watch.  \\n  \\n### Disclaimer  \\n  \\nExcerpts of this description page were taken from the source metadata.","source":"UMD","info":{"rwId":"wat.002.rw0","data_type":"Raster","name":"Water Extent and Change","sources":[{"source-name":"","id":0,"source-description":"University of Maryland (UMD)"}],"technical_title":"Global surface water dynamics 1999-2020","functions":"[Draft] Global surface water dynamics from the year 1999 to 2020","cautions":"- A probability-based sample analysis is the recommended good practice approach to estimating land cover and land use extent and change. The global surface water dynamics map enables a higher sampling efficiency through stratification at the sub-national, national, and global scales. The map should not be used as the only source data for national and international reporting due to unknown map uncertainty that may vary in space and between time intervals.\\n  \\n  \\n- Ice cover, lava, dark vegetation cover, high turbidity or very shallow water, the combination of unmasked shadow or haze with one of these covers, and mixed pixels are the most common sources of error in mapped water and land in the Landsat imagery.\\n  \\n  \\n- The dynamics map overestimates the extent of dynamic water presence, labeling some of the reference areas of permanent water or land as places with dynamic water presence. Much of this overestimation is within the above land covers or in the mixed pixels on the edge of water bodies. Conversely, the areas mapped as permanent water or land can be used with high confidence, committing only 1.2 (\xb10.7)% and 0.1 (\xb10.0)%, respectively.\\n  \\n  \\n- Individual classes representing dynamic water presence should be used with care, having lower accuracies. However, most errors are either mixed pixels or real dynamics mislabeled as another type of dynamic water presence rather than as permanent land or water.","citation":"Pickens, A.H., Hansen, M.C., Hancher, M., Stehman, S.V., Tyukavina, A., Potapov, P., Marroquin, B., Sherani, Z., 2020. Mapping and sampling to characterize global inland water dynamics from 1999 to 2018 with full Landsat time-series. Remote Sensing of Environment 243, 111792. [https://doi.org/10.1016/j.rse.2020.111792](https://doi.org/10.1016/j.rse.2020.111792). Accessed through Resource Watch, (date). [www.resourcewatch.org](https://www.resourcewatch.org).","license":null,"license_link":null,"geographic_coverage":"Global","spatial_resolution":"30 m","date_of_content":"2000-2020","frequency_of_updates":"Unknown","learn_more_link":"https://doi.org/10.1016/j.rse.2020.111792","data_download_link":null,"data_download_original_link":"https://doi.org/10.1016/j.rse.2020.111792"},"createdAt":"2021-10-06T18:37:46.118Z","updatedAt":"2021-10-19T18:46:55.933Z","status":"published"}}],"layer":[{"type":"layer","id":"water-extent-change","attributes":{"name":"2000-2020 Water extent and change","dataset":"test-dataset-3","description":"Surface water extent and change from 2000 to 2020. Pixels with a range of \u226433% and a mean of \u226590% were labeled permanent water. Change pixels were identified as pixels with a range of \u226550%, and all other pixels were labeled as stable seasonal. Pixels labeled as change were further characterized into the following main change types: gain, loss, variable water (dry period, wet period, high frequency), and probable waters.","provider":"leaflet","type":"raster","layerConfig":{},"source":{"tiles":["https://storage.googleapis.com/lcl_tiles/GLCLU12020/water/{z}/{x}/{y}.png"],"minzoom":1,"maxzoom":12},"legendConfig":{"items":[{"color":"#6baed6","name":"Permanent Water","id":0},{"color":"#c6dbef","name":"Seasonal Water","id":1},{"color":"#80cdc1","name":"Variable Water","id":2},{"color":"#08519c","name":"Water Gain","id":3},{"color":"#a17247","name":"Water Loss","id":4}],"type":"basic"}}}]}},{"type":"dataset","id":"test-dataset-4","attributes":{"name":"[internal] Cropland extent and change","active":true,"subtitle":"","metadata":[{"id":"61561bfbd32fb1001aad822a","type":"metadata","attributes":{"dataset":"e552ecb6-409e-484c-8bfb-0c0de2e2946e","application":"rw","resource":{"id":"e552ecb6-409e-484c-8bfb-0c0de2e2946e","type":"dataset"},"language":"en","name":"Cropland extent and change","description":"### Overview  \\n  \\n_**The Cropland extent and change data is still a draft product and data are subject to change in the future.**_\\n  \\n  \\nThe Cropland Extent and Change dataset at 30 metres spatial resolution was developed by the Global Land Analysis and Discovery Lab  (GLAD) at the University of Maryland (UMD) using Landsat satellite data time-series.Cropland is defined as land used to produce herbaceous crops for human consumption, forage and biofuel. Perennial woody crops, permanent pastures, and shifting cultivation are excluded from the definition. The fallow length is limited to four years for the cropland class. The map is based on the machine learning classification of the global Landsat data archive using locally calibrated models. Model calibration data were collected through visual interpretation of Landsat and high spatial resolution satellite images. The mapping was performed for the 2000-2003 and 2016-2019 time intervals. For each four-year interval, a 30x30 metres pixel was mapped as cropland if a growing crop was detected during any of these years. Cropland patches below 0.5 hectares were excluded from the final map. The cropland change refers to areas with cropland establishment (gain) and cropland abandonment or conversion to other land uses (loss) between 2000-2003 and 2016-2019 time intervals.\\n\\n  \\n  \\nGlobal population growth and increasing standards of living inevitably cause the expansion and intensification of global agricultural land use to fulfill growing demands for food, biofuel, and other commodities. In turn, agriculture expansion and intensification threaten ecosystem functioning and lead to species extinction through habitat loss and fragmentation. The [United Nations 2030 Sustainable Development Goals (SDGs)](https://www.undp.org/sustainable-development-goals) call for balancing increasing agricultural production with maintenance of ecosystem services. Implementation of SDG\u2019s to improve food security, protect freshwater and terrestrial ecosystems, and mitigate climate change require national policies and international cooperation that are based on consistent, independent, and timely data on agriculture extent and productivity. The Cropland Extent and Change dataset can serve as a tool for monitoring national and global progress towards SDG\u2019s.\\n\\n  \\n  \\nThe GLAD laboratory in the Department of Geographical Sciences at UMD investigates methods, causes and impacts of global land surface change.  Earth observation imagery are the primary data source and land cover extent and change the primary topic of interest. GLAD aspires to generate new science insights concerning land resources, educate the next generation of remote sensing-based land change scientists, and disseminate land monitoring capabilities to operational settings nationally and internationally.\\n  \\n  \\n### Methodology  \\n  \\nCropland is defined as land used for the production of annual and perennial herbaceous crops for human consumption, forage (including hay), and biofuel. Perennial woody crops, permanent pastures, and shifting cultivation are excluded from the definition. The fallow length is limited to four years for the cropland class. The cropland class definition is largely consistent with the arable land category reported by the [Food and Agriculture Organization (FAO) of the United Nations](https://www.fao.org/3/Y4171E/Y4171E20.htm).\\r\\n\\r\\n  \\n  \\nThe analysis was performed in four-year epochs, 2000-2003 and 2016-2019. One cropland map per epoch was created, named by the last year of the interval (e.g., the 2019 map represents the 2016-2019 epoch). Using a four-year interval (rather than a single year) increased the number of clear-sky satellite observations in the time-series, which improves the representation of land surface phenology and the accuracy of cropland detection. For each four-year interval, an area was mapped as cropland if a growing crop was detected during any of these years. This way, the criterion of the maximum fallow length was implemented: if an area was not used as cropland for more than four years, it was not included in the cropland map for the corresponding time interval.\\r\\n\\r\\n  \\n  \\nThe global 16-day normalized surface reflectance Landsat Analysis Ready Data (Landsat ARD) was employed as input data for cropland mapping [(Potapov et al., 2020)](https://www.mdpi.com/2072-4292/12/3/426). For each four-year interval, a single annualized gap-free 16-day observation time-series was created. For each 16-day interval, the observation with the highest near-infrared reflectance value was selected(to prioritize observations with the highest vegetation cover) from four years of Landsat data. The annualized 16-day time-series within each four-year interval was transformed into a set of multitemporal metrics that provide consistent land surface phenology inputs for global cropland mapping. Metrics include selected ranks, inter-rank averages, and amplitudes of surface reflectance and vegetation indices values, and surface reflectance averages for selected land surface phenology stages defined by vegetation indices (i.e., surface reflectance for the maximum and minimum greenness periods). The Landsat metrics were augmented with elevation data. \\r\\n\\r\\n  \\n  \\nGlobal cropland mapping included three stages that enabled extrapolation of visually delineated cropland training data to a temporally consistent global cropland map time-series using machine learning. At all three stages, a bagged decision tree ensembles was employed as a supervised classification algorithm that uses class presence and absence data as the dependent variable and a set of multitemporal metrics as independent variables at a Landsat ARD pixel scale. The first stage consisted of performing individual cropland classifications for a set of 924 Landsat ARD 1\xb0\xd71\xb0 tiles for the 2016-2019 interval. The tiles were chosen to represent diverse global agriculture landscapes. Classification training data (cropland class presence and absence) were manually selected through visual interpretation of Landsat metric composites and high-resolution data from Google Earth. At the second stage, the 924 tiles that had been classified as cropland/other land and the 2016-2019 metric set were used to train a series of regional cropland mapping models. The classification was iterated by adding training tiles and assessing the results until the resulting map was satisfactory. At the third stage, the preliminary global cropland maps were used as training data to generate temporally consistent global cropland data. The goal of this third stage was to create a robust spatiotemporally consistent set of locally calibrated cropland detection models. For each 1\xb0\xd71\xb0 Landsat ARD tile (13,451 tiles total) training data for each four-year interval was collected from the preliminary cropland extent maps within a 3\xb0 radius of the target tile, with preference to select stable cropland and non-cropland pixels as training. Training data from all intervals were used to calibrate a single decision tree ensemble for each ARD tile. The per-tile models were then applied to each time interval, and the results were post-processed to remove single cropland class detections and omissions within time-series and eliminate cropland patches below 0.5 ha. Manual masks to remove map artifacts (e.g., cropland overestimation over temperate wetlands and flooded grasslands) were applied in some regions to improve the final map.\\r\\n\\r\\n\\r\\nFor the full documentation, please click on the \u201cLearn more\u201d button.\\r\\n  \\n  \\n### Additional Information  \\n  \\nResource Watch shows only a subset of the dataset. For access to the full dataset and additional information, click on the \u201cLearn more\u201d button.  \\n  \\n### Visualizing the Data  \\n  \\nOur team reformatted this dataset before displaying it on Resource Watch.   \\n  \\n### Disclaimer  \\n  \\nExcerpts of this description page were taken from the source metadata.","source":"UMD","info":{"rwId":"foo.065.rw0","data_type":"Raster","name":"Cropland extent and change","sources":[{"source-name":"","id":0,"source-description":"University of Maryland (UMD)"}],"technical_title":"Global cropland extent and change, 2003-2019","functions":"[Draft] Cropland stability, gain and loss from 2000-2003 and 2016-2019\\r\\n","cautions":"  \\n  \\n- A probability-based sample analysis is the recommended good practice approach to estimating land cover and land use extent and change. The global land cover map time-series enables a higher sampling efficiency through stratification at the sub-national, national, and global scales. The maps should not be used as the only source data for national and international reporting due to unknown map uncertainty that may vary in space and between time intervals.\\r\\n  \\n  \\n- Cropland maps have higher accuracy in regions dominated by large-scale industrial farming, e.g. North and South America. In Europe, Asia, and Africa, the global map may underestimate small-scale cropland areas due to Landsat spatial resolution limitations in mapping heterogeneous landscapes.\\r\\n  \\n  \\n- Cropland class may be confused with the intensively managed permanent pastures as both classes have similar spectral response and phenology. This issue may cause an overestimation of cropland area in Australia, New Zealand, and parts of Western Europe.\\r\\n  \\n  \\n- Dryland rainfed agriculture and summer wheat production areas, especially when intermittent with long fallow, may be partially omitted in Central Asia and the Middle East. The short vegetation season and the lack of cloud-free Landsat data in some years may preclude dryland agriculture detection.\\r\\n  \\n  \\n- Croplands that were repeatedly abandoned and recultivated may be inconsistently mapped as cropland loss or gain.\\r\\n\\r","citation":"(1) P. Potapov, S. Turubanova, M.C. Hansen, A. Tyukavina, V. Zalles, A. Khan, X.-P. Song, A. Pickens, Q. Shen, J. Cortez. (2021) Accelerated expansion of global cropland extent in the 21st century. In Review. Accessed through Resource Watch, (date). [www.resourcewatch.org](https://www.resourcewatch.org).\\r","license":null,"license_link":null,"geographic_coverage":"Global","spatial_resolution":"30 m","date_of_content":"2000-2003, 2016-2019","frequency_of_updates":"Unknown","learn_more_link":"https://www.researchsquare.com/article/rs-294463/v1","data_download_link":null,"data_download_original_link":"https://www.researchsquare.com/article/rs-294463/v1"},"columns":{},"createdAt":"2021-09-30T20:20:11.559Z","updatedAt":"2021-10-19T18:42:03.966Z","status":"published"}}],"layer":[{"type":"layer","id":"croplad-extend-change","attributes":{"name":"2000-2003 and 2016-2019 Cropland Extent and Change","dataset":"test-dataset-4","description":"Stable cropland presence and absence, cropland change (gain and loss) between two epochs: 2000-2003 and 2016-2019. The cropland change refers to areas with cropland establishment (gain) and cropland abandonment or conversion to other land uses (loss) between 2000-2003 and 2016-2019 time intervals.","provider":"leaflet","type":"raster","layerConfig":{},"source":{"tiles":["https://storage.googleapis.com/lcl_tiles/GLCLU2020//cropland/{z}/{x}/{y}.png"],"minzoom":1,"maxzoom":12},"legendConfig":{"items":[{"color":"#FFF183","name":"Stable Cropland","id":1},{"color":"#fd8b2d","name":"Cropland Loss","id":2},{"color":"#35978f","name":"Cropland Gain","id":3}],"type":"basic"}}}]}},{"type":"dataset","id":"test-dataset-5","attributes":{"name":"[internal] Snow/Ice Extent and Change","active":true,"subtitle":"","metadata":[{"id":"613f8f271f59a5001b0e2488","type":"metadata","attributes":{"dataset":"5a796ce9-71d4-42b0-922d-056a86e5eb72","application":"rw","resource":{"id":"5a796ce9-71d4-42b0-922d-056a86e5eb72","type":"dataset"},"language":"en","name":"Snow/Ice Extent and Change","description":"### Overview  \\n  \\n_**The Snow/Ice data is still a draft product and data are subject to change in the future.**_\\r\\n  \\n  \\nThe Snow/Ice Extent and Change dataset at 30 m spatial resolution was developed by the Global Land Analysis and Discovery Lab (GLAD) at the University of Maryland (UMD) using Landsat satellite data time-series. The map shows the extent of glaciers and perennial snowfields and their change from the year 2000 to 2020. Areas with seasonal snow cover are excluded from the map. The map extent is limited to continents and large islands between 75\xb0N and 56\xb0S [(Potapov et al., 2020)](https://doi.org/10.3390/rs12030426). Greenland, the Antarctic, and Arctic Islands are excluded from the map. Model calibration data were collected through the visual interpretation of Landsat and high spatial resolution satellite images. A set of regionally calibrated models were developed and implemented to map perennial snow and ice cover time-series. The snow/ice loss represents areas where the year 2000 perennial snow or ice cover was transformed into seasonal snow cover or completely disappeared by the year 2020. The gain areas represent the expansion of perennial snowfields and glaciers from the year 2000 to 2020.\\r\\n  \\n  \\nThe GLAD laboratory in the Department of Geographical Sciences at UMD investigates methods, causes, and impacts of global land surface change.  Earth observation imagery is the primary data source, and the land cover extent and change is the primary topic of interest. GLAD aspires to generate new science insights concerning land resources, educate the next generation of remote sensing-based land change scientists, and disseminate land monitoring capabilities to operational settings nationally and internationally.\\r\\n  \\n  \\n### Methodology  \\n  \\nThe source mapped permanent snow and ice using regionally calibrated supervised classification models (decision tree ensembles). The classification model was calibrated with manually collected training data from multitemporal Landsat metrics. The source used the Landsat data from the years 2000, 2005, and 2020 for training data collection. For each year, The source selected Landsat observations during the peak land surface temperature and peak vegetation index values to separate perennial and annual snow cover. The training data from different years were integrated and used to create a single regional model. Overall, the source created fourteen regional models, one model per mountain system or a geographic region. The source iterated the models until the results were sufficiently correct. The final product was filtered using a set of rules to remove noise in the time series and possible omission/commission due to the remaining cloud/cloud shadow contamination of Landsat data.\\n  \\n  \\nFor the full documentation, please click on the \u201cLearn more\u201d button.  \\n  \\n### Additional Information  \\n  \\nResource Watch shows only a subset of the dataset. For access to the full dataset and additional information, click on the \u201cLearn more\u201d button.  \\n  \\n### Visualizing the Data  \\n  \\nOur team reformatted this dataset before displaying it on Resource Watch.\\n  \\n  \\n### Disclaimer  \\n  \\nExcerpts of this description page were taken from the source metadata.","source":"UMD","info":{"rwId":"cli.001.rw0","data_type":"Raster","name":"Snow/Ice Extent and Change","sources":[{"source-name":"","id":0,"source-description":"University of Maryland (UMD)"}],"technical_title":"Global glaciers and perennial snowfields extent and change, 2000-2020","functions":"[Draft] Global glaciers and perennial snowfields extent, loss, and gain from the year 2000 to 2020","cautions":"- A probability-based sample analysis is the recommended good practice approach to estimating land cover and land use extent and change. The global land cover map time-series enables a higher sampling efficiency through stratification at the sub-national, national, and global scales. The maps should not be used as the only source data for national and international reporting due to unknown map uncertainty that may vary in space and between time intervals.\\r\\n  \\n  \\n - The model performance is compromised by the low radiometric resolution and observation frequency of Landsat TM and ETM+ data in the year 2000 compared to the Landsat ETM+ and OLI data in 2020. The year 2000 map overestimated the area of perennial snow and ice due to the inclusion of seasonal snow and classification errors within topographic shadows. As a result, the rate of snow and ice reduction from the year 2000 to 2020 is overestimated by the map. The areas of snow and ice gain and loss should be considered as indicator products. \\r\\n  \\n  \\n - The product quality depends on the availability of Landsat data during the hottest time of the year. The absence of cloud-free Landsat data during the hottest month may cause an overestimation of perennial snow cover. Small Arctic lakes can be classified as \u201cpermanent snow\u201d if no cloud-free observations during the hottest time of the years were available for several years in a row. Confusion of snow/ice with clouds may compromise model performance in regions with persistent cloud cover.\\r\\n  \\n  \\n - Dirt, soot, and volcanic ash on top of the glaciers may compromise their detection. This issue affected data near active volcanos in Iceland and Kamchatka and may compromise detection of melting glaciers covered with rocks and sand.","citation":"Potapov, P., Turubanova, S., Hansen, M.C., Tyukavina, A., Khan, A., Pickens, A., 2021. Global extent and change of glaciers and perennial snowfields, 2000-2020. GLAD UMD Dataset. Accessed through Resource Watch, (date). [www.resourcewatch.org](https://www.resourcewatch.org).","license":null,"license_link":null,"geographic_coverage":"75N - 56S","spatial_resolution":"30 m","date_of_content":"2000-2020","frequency_of_updates":"Unknown","learn_more_link":"https://doi.org/10.3390/rs12030426","data_download_link":null,"data_download_original_link":"https://doi.org/10.3390/rs12030426"},"columns":{},"createdAt":"2021-09-13T17:49:27.133Z","updatedAt":"2021-10-19T18:36:29.813Z","status":"published"}}],"layer":[{"type":"layer","id":"snow-ice-extent-change","attributes":{"name":"2000-2020 Snow/Ice extent and change","dataset":"test-dataset-5","description":"The snow/ice loss represents areas where the year 2000 perennial snow or ice cover was transformed into seasonal snow cover or completely disappeared by the year 2020. The gain areas represent the expansion of perennial snowfields and glaciers from the year 2000 to 2020.","provider":"leaflet","type":"raster","layerConfig":{},"source":{"tiles":["https://storage.googleapis.com/lcl_tiles/GLCLU2020//snow/{z}/{x}/{y}.png"],"minzoom":1,"maxzoom":12},"legendConfig":{"items":[{"color":"#acd1e8","name":"Stable Snow/Ice","id":0},{"color":"#c95542","name":"Snow/Ice Loss","id":1},{"color":"#2379ad","name":"Snow/Ice Gain","id":2}],"type":"basic"}}}]}},{"type":"dataset","id":"test-dataset-6","attributes":{"name":"[internal] Built Up Extent and Change","active":true,"subtitle":"","metadata":[{"id":"613f8f271f59a5001b0e2488","type":"metadata","attributes":{"dataset":"5a796ce9-71d4-42b0-922d-056a86e5eb72","application":"rw","resource":{"id":"5a796ce9-71d4-42b0-922d-056a86e5eb72","type":"dataset"},"language":"en","name":"Built Up Extent and Change","description":"","source":"UMD","info":{"rwId":"cli.001.rw0","data_type":"Raster","name":"Built Up Extent and Change","sources":[{"source-name":"","id":0,"source-description":"University of Maryland (UMD)"}],"technical_title":"","functions":"","cautions":"","citation":"","license":null,"license_link":null,"geographic_coverage":"75N - 56S","spatial_resolution":"30 m","date_of_content":"2000-2020","frequency_of_updates":"Unknown","learn_more_link":"https://doi.org/10.3390/rs12030426","data_download_link":null,"data_download_original_link":"https://doi.org/10.3390/rs12030426"},"columns":{},"createdAt":"2021-09-13T17:49:27.133Z","updatedAt":"2021-10-19T18:36:29.813Z","status":"published"}}],"layer":[{"type":"layer","id":"built-up-extent-change","attributes":{"name":"2000-2020 Built Up Extent and Change","description":"","dataset":"test-dataset-6","provider":"leaflet","type":"raster","layerConfig":{},"source":{"tiles":["https://storage.googleapis.com/lcl_tiles/GLCLU2020/builtup/{z}/{x}/{y}.png"],"minzoom":1,"maxzoom":12},"legendConfig":{"items":[{"color":"#e8765d","name":"Stable Built Up","id":0},{"color":"#c43a35","name":"Built Up Gain","id":1}],"type":"basic"}}}]}},{"id":"20aead6e-fef9-41c7-92c8-ea00edcae077","type":"dataset","attributes":{"active":true,"name":"bio.030 Tiger Conservation Landscapes","slug":"Tiger-Conservation-Landscapes-1490086842553","type":"tabular","subtitle":null,"application":["rw"],"dataPath":null,"attributesPath":null,"connectorType":"rest","provider":"featureservice","userId":"58333dcfd9f39b189ca44c75","connectorUrl":"http://gis-gfw.wri.org/arcgis/rest/services/conservation/MapServer/3?f=pjson","sources":[],"tableName":"conservationMapServer3","status":"saved","published":false,"overwrite":false,"subscribable":{},"mainDateField":null,"env":"production","geoInfo":true,"protected":false,"legend":{},"clonedHost":{},"errorMessage":null,"taskId":null,"createdAt":"2017-02-15T12:20:35.446Z","updatedAt":"2018-08-09T16:41:50.251Z","dataLastUpdated":"2020-02-13T02:42:25.409Z","metadata":[{"id":"5ac924b6976f8a0012fba878","type":"metadata","attributes":{"dataset":"5c615e0f-f5e7-4e02-a9e0-0248253a46a7","application":"rw","resource":{"id":"5c615e0f-f5e7-4e02-a9e0-0248253a46a7","type":"dataset"},"language":"en","name":"[Archived] GLAD Deforestation Alerts","description":"Lorem ipsum metadata","source":"UMD/GLAD","info":{"rwId":"for.003.nrt [Archived]","data_type":"Raster","name":"[Archived] GLAD Deforestation Alerts","sources":[{"source-name":"University of Maryland (UMD)","id":0,"source-description":""},{"source-name":"Global Land Analysis & Discovery Lab","id":1,"source-description":""}],"technical_title":"Global Land Analysis and Discovery (GLAD) Alert","functions":"Areas of likely tree cover loss in near-real time","cautions":"While Landsat 7 and 8 satellites together have a revisit period of 8 days, cloud cover can significantly limit the availability of imagery, particularly in the wet season. Alert dates represent the instance of detection, though tree cover loss could have taken place earlier, possibly weeks earlier, due to persistent cloud cover. In this data set, \u201ctree cover\u201d is defined as all vegetation greater than 5 m in height with greater than 60% canopy cover and may take the form of natural forests or plantations. \u201cTree cover loss\u201d indicates the canopy removal of at least half a pixel and can be due to a variety of factors, including mechanical harvesting, fire, disease, or storm damage. As such, \u201closs\u201d does not equate to deforestation. In Peru, where the alert system was first developed, the authors evaluated the data to have 13.5% false positives (loss detected where none occurred), though the majority of those false positives (9.5%) occurs on the edges of clearings. On edges, the 30 m Landsat pixels show a mix of forest and other land cover, which makes them prone to error in the system. The rate of false positives drops to 1% when only considering confirmed alerts. The data have 33% false negatives (undetected loss where it has occurred), though most of these occur in secondary forests\u2014likely because the algorithm was created to capture primary forest loss. The higher rate of false negatives compared to false positives also indicates that the alerts are a conservative estimate of the tree cover loss that is actually occurring. When zoomed out, this data layer displays some degree of inaccuracy because the data points must be collapsed to be visible on a larger scale. Zoom in for greater detail.","citation":"Hansen, M.C., A. Krylov, A. Tyukavina, P.V. Potapov, S. Turubanova, B. Zutta, S. Ifo, B. Margono, F. Stolle, and R. Moore. 2016. \\"Humid Tropical Forest Disturbance Alerts Using Landsat Data.\\" Environmental Research Letters 11, no. 3. www.globalforestwatch.org. Accessed through Resource Watch, (date). [www.resourcewatch.org](https://www.resourcewatch.org).","license":"Creative Commons Attribution 4.0 International","license_link":"https://creativecommons.org/licenses/by/4.0/","geographic_coverage":"Brazil, Peru, Burundi, Cameroon, Central African Republic, Democratic Republic of the Congo, Equatorial Guinea, Gabon, Republic of the Congo, Rwanda, Uganda, Brunei, Indonesia, Malaysia, Papua New Guinea, Timor Leste, Russia (Far East only)","spatial_resolution":"30 m","date_of_content":"2015-present","frequency_of_updates":"Weekly","learn_more_link":"http://iopscience.iop.org/article/10.1088/1748-9326/11/3/034008","data_download_link":null,"data_download_original_link":"http://iopscience.iop.org/article/10.1088/1748-9326/11/3/034008"},"columns":{},"createdAt":"2018-04-07T20:06:14.065Z","updatedAt":"2020-06-12T20:05:04.205Z","status":"published"}}],"layer":[{"id":"b9d1b315-efc3-433a-82ad-22e841c34f5a","type":"layer","attributes":{"name":"GLAD Alerts","slug":"test-glad","dataset":"20aead6e-fef9-41c7-92c8-ea00edcae077","description":"Areas of likely tree cover loss: January 2017 - present for Colombia, Ecuador, French Guiana, Guyana, Suriname, and Venezuela, and January 2015 - present for all other countries covered.","application":["rw"],"iso":[],"provider":"leaflet","type":"raster","userId":"59a4168c9557070001cb9c77","default":true,"protected":false,"published":true,"env":"production","source":{"tiles":["https://tiles.globalforestwatch.org/glad_prod/tiles/{z}/{x}/{y}.png"],"maxzoom":13},"layerConfig":{},"legendConfig":{"type":"basic","items":[{"name":"Deforestation alert","color":"#DA6497","id":0}]},"interactionConfig":{"output":[]},"applicationConfig":{},"staticImageConfig":{},"createdAt":"2020-02-14T14:05:08.080Z","updatedAt":"2020-02-26T21:22:31.405Z"}}],"widgetRelevantProps":[],"layerRelevantProps":[]}}]}');function x(){return Promise.resolve((0,w.ZP)(v))}function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,y.useQuery)(["fetch-datasets",e],(function(){return x()}),k({},t))},C=a(219),_=a(3063),D=a(4184),T=a.n(D),L=a(1609),A=a.n(L),P=a(7013),S=a(8716),E=a(9302),z={dark:{id:"dark",value:"dark",label:"Dark",options:{attribution:'<a href="https://www.mapbox.com/about/maps/" target="_blank">\xa9 Mapbox</a> <a href="http://www.openstreetmap.org/about/" target="_blank">\xa9 OpenStreetMap</a>'}},light:{id:"light",value:"light",label:"Light",options:{attribution:'<a href="https://www.mapbox.com/about/maps/" target="_blank">\xa9 Mapbox</a> <a href="http://www.openstreetmap.org/about/" target="_blank">\xa9 OpenStreetMap</a>'}},satellite:{id:"satellite",value:"satellite",label:"Satellite",options:{attribution:'<a href="https://www.mapbox.com/about/maps/" target="_blank">\xa9 Mapbox</a> <a href="http://www.openstreetmap.org/about/" target="_blank">\xa9 OpenStreetMap</a>'}},terrain:{id:"terrain",value:"terrain",label:"Terrain",options:{attribution:'<a href="https://www.mapbox.com/about/maps/" target="_blank">\xa9 Mapbox</a> <a href="http://www.openstreetmap.org/about/" target="_blank">\xa9 OpenStreetMap</a>'}},aqueduct:{id:"aqueduct",value:"aqueduct",label:"Hydrography",options:{attribution:'<a href="https://www.mapbox.com/about/maps/" target="_blank">\xa9 Mapbox</a> <a href="http://www.openstreetmap.org/about/" target="_blank">\xa9 OpenStreetMap</a>'}}},M={none:{id:"none",label:"No labels",value:"none"},light:{id:"light",label:"Labels light",value:"light"},dark:{id:"dark",label:"Labels dark",value:"dark"}},N={zoom:2,latitude:0,longitude:0,pitch:0,bearing:0,transitionDuration:250,maxZoom:22,minZoom:1},Z=a(5893),I=["mapboxApiAccessToken","children","className","viewport","bounds","basemap","labels","boundaries","onMapReady","onMapLoad","onMapViewportChange","dragPan","dragRotate","scrollZoom","touchZoom","touchRotate","doubleClickZoom","width","height","getCursor"];function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U=function(e){var t=e.mapboxApiAccessToken,a=e.children,o=e.className,i=e.viewport,s=e.bounds,l=e.basemap,c=e.labels,d=e.boundaries,u=e.onMapReady,p=e.onMapLoad,h=e.onMapViewportChange,f=e.dragPan,m=e.dragRotate,g=e.scrollZoom,b=e.touchZoom,y=e.touchRotate,w=e.doubleClickZoom,v=e.width,x=void 0===v?"100%":v,j=e.height,k=void 0===j?"100%":j,O=e.getCursor,D=(0,C.Z)(e,I),L=(0,r.useRef)(null),z=(0,r.useRef)(null),M=(0,r.useState)(G(G({},N),i)),R=M[0],U=M[1],B=(0,r.useState)(!1),F=B[0],H=B[1],V=(0,r.useState)(!1),W=V[0],q=V[1],J=(0,r.useState)(!1),X=J[0],K=J[1],Y=(0,r.useCallback)((function(){if(!L.current)return!1;var e=["basemap"],t=L.current.getStyle(),a=t.layers,n=t.metadata,r=Object.keys(n["mapbox:groups"]).filter((function(t){var a=n["mapbox:groups"][t].name;return e.map((function(e){return a.toLowerCase().includes(e)})).some((function(e){return e}))})),o=r.map((function(e){return G(G({},n["mapbox:groups"][e]),{},{id:e})})).find((function(e){return e.name.includes(l)})),i=a.filter((function(e){var t=e.metadata;if(!t)return!1;var a=t["mapbox:group"];return r.includes(a)}));return!!o&&(i.forEach((function(e){e.metadata["mapbox:group"]===o.id?L.current.setLayoutProperty(e.id,"visibility","visible"):L.current.setLayoutProperty(e.id,"visibility","none")})),!0)}),[l]),Q=(0,r.useCallback)((function(){var e=["labels"],t=L.current.getStyle(),a=t.layers,n=t.metadata,r=Object.keys(n["mapbox:groups"]).filter((function(t){var a=n["mapbox:groups"][t].name;return e.filter((function(e){return a.toLowerCase().includes(e)})).some((function(e){return e}))})),o=r.map((function(e){return G(G({},n["mapbox:groups"][e]),{},{id:e})})).find((function(e){return e.name.includes(c)}))||{};return a.filter((function(e){var t=e.metadata;if(!t)return!1;var a=t["mapbox:group"];return r.includes(a)})).forEach((function(e){var t=e.metadata["mapbox:group"]===o.id;L.current.setLayoutProperty(e.id,"visibility",t?"visible":"none")})),!0}),[c]),$=(0,r.useCallback)((function(){var e=["boundaries"],t=L.current.getStyle(),a=t.layers,n=t.metadata,r=Object.keys(n["mapbox:groups"]).filter((function(t){var a=n["mapbox:groups"][t].name;return e.map((function(e){return a.toLowerCase().includes(e)})).some((function(e){return e}))}));a.filter((function(e){var t=e.metadata;if(!t)return!1;var a=t["mapbox:group"];return r.includes(a)})).forEach((function(e){L.current.setLayoutProperty(e.id,"visibility",d?"visible":"none")}))}),[d]),ee=(0,r.useCallback)((function(){K(!0),p&&p({map:L.current,mapContainer:z.current}),Y(),Q(),$()}),[p]),te=(0,E.Z)((function(e){h(e)}),250),ae=(0,r.useCallback)((function(e){U(e),te(e)}),[te]),ne=(0,r.useCallback)((function(e){var t=G(G({},R),e);U(t),te(t)}),[R,te]),re=(0,r.useCallback)((function(){if(!W)return null;var e=s.bbox,t=s.options,a=void 0===t?{}:t,n=s.viewportOptions,r=void 0===n?{}:n,o=r.transitionDuration,i=void 0===o?0:o;if(z.current.offsetWidth<=0||z.current.offsetHeight<=0)return console.error("mapContainerRef doesn't have dimensions"),null;var l=(0,P.Xg)(G({width:z.current.offsetWidth,height:z.current.offsetHeight,bounds:[[e[0],e[1]],[e[2],e[3]]]},a)),c=G({longitude:l.longitude,latitude:l.latitude,zoom:l.zoom,transitionDuration:i,transitionInterruption:_.r8.UPDATE},r);return H(!0),U((function(e){return G(G({},e),c)})),te(c),setTimeout((function(){H(!1)}),+i)}),[W,s,te]),oe=(0,r.useCallback)((function(e){var t=e.isHovering,a=e.isDragging;return t?"pointer":a?"grabbing":"grab"}),[l]);return(0,r.useEffect)((function(){q(!0),u&&u({map:L.current,mapContainer:z.current})}),[u]),(0,r.useEffect)((function(){!A()(s)&&s.bbox&&s.bbox.every((function(e){return!!e}))&&re()}),[s,re]),(0,r.useEffect)((function(){U((function(e){return G(G({},e),i)}))}),[i]),(0,r.useEffect)((function(){X&&Y()}),[l]),(0,r.useEffect)((function(){X&&Q()}),[c]),(0,r.useEffect)((function(){X&&$()}),[d]),(0,Z.jsx)("div",{ref:z,className:T()((0,n.Z)({"relative w-full h-full z-0":!0},o,!!o)),children:(0,Z.jsx)(_.ZP,G(G(G({ref:function(e){e&&(L.current=e.getMap())},mapboxApiAccessToken:t,mapStyle:"mapbox://styles/resourcewatch/cjzmw480d00z41cp2x81gm90h"},D),R),{},{width:x,height:k,dragPan:!F&&f,dragRotate:!F&&m,scrollZoom:!F&&g,touchZoom:!F&&b,touchRotate:!F&&y,doubleClickZoom:!F&&w,onViewportChange:ae,onResize:ne,onLoad:ee,getCursor:O||oe,transitionInterpolator:new _.Cf,transitionEasing:S.tw,children:W&&X&&!!L.current&&"function"===typeof a&&a(L.current)}))})},B=a(1076),F=function(e){var t=e.active,a=void 0===t||t,n=e.meta,o=e.disabled;return(0,r.useMemo)((function(){return o?"disabled":n.touched&&n.error?"error":a&&n.touched&&n.valid?"valid":"none"}),[a,n,o])},H={dark:{base:"bg-black border rounded-sm text-blue-500 focus:border-blue-500",status:{none:"border-gray-500",valid:"border-gray-500",error:"border-red-500 focus:border-red-500",disabled:"border-gray-500 opacity-50"}},light:{base:"bg-white border rounded-sm text-blue-500 focus:border-blue-500",status:{none:"border-gray-800",valid:"border-gray-800",error:"border-red-500 focus:border-red-500",disabled:"border-gray-800 opacity-50"}}},V=["theme","input","meta","disabled","className"];function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var J=function(e){var t,a=e.theme,r=void 0===a?"light":a,o=e.input,i=e.meta,s=void 0===i?{}:i,l=e.disabled,c=void 0!==l&&l,d=e.className,u=(0,C.Z)(e,V),p=F({meta:s,disabled:c});return(0,Z.jsx)("input",q(q(q({},o),u),{},{type:"checkbox",disabled:c,className:T()((t={"form-checkbox":!0},(0,n.Z)(t,H[r].base,!0),(0,n.Z)(t,H[r].status[p],!0),(0,n.Z)(t,d,!!d),t))}))},X={dark:{base:"bg-gray-800 border rounded-full text-blue-500",status:{none:"border-gray-800",valid:"border-green-800",error:"border-red-500",disabled:"border-gray-800 opacity-50"}},light:{base:"bg-white border rounded-full text-blue-500",status:{none:"border-gray-800",valid:"border-green-800",error:"border-red-500 focus:border-red-500",disabled:"border-gray-800 opacity-50"}}},K=["theme","disabled","input","meta","className"];function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $=function(e){var t,a=e.theme,r=void 0===a?"light":a,o=e.disabled,i=void 0!==o&&o,s=e.input,l=void 0===s?{}:s,c=e.meta,d=void 0===c?{}:c,u=e.className,p=(0,C.Z)(e,K),h=F({active:!!l.checked,meta:d,disabled:i});return(0,Z.jsx)("input",Q(Q(Q({},l),p),{},{type:"radio",disabled:i,className:T()((t={"form-radio":!0},(0,n.Z)(t,X[r].base,!0),(0,n.Z)(t,X[r].status[h],!0),(0,n.Z)(t,u,!!u),t))}))},ee=function(e){var t=e.icon,a=e.className,r=void 0===a?"w-5 h-5":a,o=e.style;return(0,Z.jsx)("svg",{className:T()((0,n.Z)({"fill-current":!0},r,r)),viewBox:(null===t||void 0===t?void 0:t.viewBox)||"0 0 32 32",style:o,children:(0,Z.jsx)("use",{xlinkHref:"#".concat((null===t||void 0===t?void 0:t.id)||t)})})},te=a(302),ae=a.n(te),ne=function(e){var t=e.basemap,a=e.labels,n=e.boundaries,o=e.onChangeBasemap,i=e.onChangeLabels,s=e.onChangeBoundaries,l=(0,r.useState)(!1),c=l[0],d=l[1],u=(0,r.useCallback)((function(e){var t=document.getElementById("basemap-selector");t&&t.contains&&!t.contains(e.target)&&d(!1)}),[]),p=(0,r.useCallback)((function(e){o(z[e.target.value])}),[o]),h=(0,r.useCallback)((function(e){i(M[e.target.value])}),[i]),f=(0,r.useCallback)((function(e){s(e.target.checked)}),[s]);return(0,r.useEffect)((function(){return function(){document.removeEventListener("click",u)}}),[]),(0,r.useEffect)((function(){return c?window.addEventListener("click",u):window.removeEventListener("click",u),function(){window.removeEventListener("click",u)}}),[c]),(0,Z.jsx)("div",{className:"mt-0.5",children:(0,Z.jsx)(B.Z,{attachment:"top right",constraints:[{to:"window"}],targetOffset:"8px 100%",renderTarget:function(e){return(0,Z.jsx)("button",{ref:e,type:"button",className:"mt-1 p-1.5 bg-white text-black",onClick:function(){d(!0)},children:(0,Z.jsx)(ee,{icon:ae(),className:"w-5 h-5"})})},renderElement:function(e){return c?(0,Z.jsxs)("div",{ref:e,className:"bg-white p-4 rounded",id:"basemap-selector",children:[(0,Z.jsx)("ul",{className:"flex flex-col",children:Object.keys(z).map((function(e){return(0,Z.jsxs)("li",{className:"flex items-center mt-1.5 first:mt-0",children:[(0,Z.jsx)($,{name:"basemap",title:z[e].label,value:z[e].value,checked:t===z[e].value,onChange:p}),(0,Z.jsx)("label",{htmlFor:z[e].label,className:"ml-1.5 text-sm font-normal antialiased text-rw-gray",children:z[e].label})]},z[e].id)}))}),(0,Z.jsx)("div",{className:"border-t border-gray-200 my-3"}),(0,Z.jsx)("ul",{className:"flex flex-col",children:Object.keys(M).map((function(e){return(0,Z.jsxs)("li",{className:"flex items-center mt-1.5 first:mt-0",children:[(0,Z.jsx)($,{name:"labels",title:M[e].label,value:M[e].value,checked:a===M[e].value,onChange:h}),(0,Z.jsx)("label",{htmlFor:M[e].label,className:"ml-1.5 text-sm font-normal antialiased text-rw-gray",children:M[e].label})]},M[e].id)}))}),(0,Z.jsx)("div",{className:"border-t border-gray-200 my-3"}),(0,Z.jsxs)("div",{className:"flex items-center",children:[(0,Z.jsx)(J,{name:"boundaries",title:"Boundaries",value:"boundaries",checked:n,onChange:f,className:"cursor-pointer"}),(0,Z.jsx)("label",{htmlFor:"boundaries",className:"ml-1.5 text-sm font-normal antialiased text-rw-gray",children:"Boundaries"})]})]}):null}})})},re=a(1966),oe=a.n(re),ie=a(7183),se=a.n(ie),le=function(e){var t=e.className,a=e.viewport,o=e.onZoomChange,i=a.zoom,s=a.maxZoom,l=a.minZoom,c=(0,r.useCallback)((function(e){e.stopPropagation(),i+1<=s&&o(i+1)}),[i,s,o]),d=(0,r.useCallback)((function(e){e.stopPropagation(),i+1>=l&&o(i-1)}),[i,l,o]);return(0,Z.jsxs)("div",{className:T()((0,n.Z)({"inline-flex flex-col":!0},t,!!t)),children:[(0,Z.jsx)("button",{className:T()({"mb-0.5 p-1.5 text-black bg-white ":!0,"hover:bg-gray-100 active:bg-gray-600":i!==s,"opacity-50 cursor-default":i===s}),"aria-label":"Zoom in",type:"button",disabled:i===s,onClick:c,children:(0,Z.jsx)(ee,{icon:oe()})}),(0,Z.jsx)("button",{className:T()({"p-1.5 text-black bg-white":!0,"hover:bg-gray-100 active:bg-gray-600":i!==l,"opacity-50 cursor-default":i===l}),"aria-label":"Zoom out",type:"button",disabled:i===l,onClick:d,children:(0,Z.jsx)(ee,{icon:se()})})]})},ce=a(4708),de=a(9641),ue=a(1279),pe=a(3869),he=a(1770),fe=a(7217),me=a.n(fe),ge="absolute top-1/2 inset-x-4 sm:left-1/2 transform -translate-y-1/2 sm:-translate-x-1/2 outline-none bg-white flex flex-col flex-grow overflow-hidden rounded-3xl py-7",be={narrow:"sm:w-4/6 md:w-1/2 lg:w-5/12 xl:w-1/3 ".concat(ge),default:"sm:w-4/5 md:w-2/3 lg:1/2 xl:w-2/5 ".concat(ge),wide:"sm:w-10/12 md:w-10/12 lg:w-10/12 xl:w-8/12 ".concat(ge)};function ye(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function we(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ye(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ve=function(e){var t,a=e.title,o=e.open,i=e.dismissable,s=void 0===i||i,l=e.size,c=void 0===l?"default":l,d=e.children,u=e.className,p=e.onDismiss,h=(0,r.useRef)(),f=(0,ue.Ir)({isKeyboardDismissDisabled:!s,isDismissable:s,isOpen:o,onClose:p},h).overlayProps,m=(0,ue.dd)().modalProps,g=(0,ce.R)({"aria-label":a},h).dialogProps;return(0,ue.tk)({isDisabled:!o}),(0,Z.jsx)(pe.M,{children:o&&(0,Z.jsx)(ue.Xj,{children:(0,Z.jsx)(he.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:0}},exit:{opacity:0,transition:{delay:.125}},className:T()((0,n.Z)({},"z-50 fixed inset-0 bg-black bg-blur",!0)),children:(0,Z.jsx)(de.MT,{contain:!0,restoreFocus:!0,autoFocus:!0,children:(0,Z.jsx)("div",we(we(we(we({},f),g),m),{},{ref:h,children:(0,Z.jsxs)(he.E.div,{initial:{opacity:0,y:"-60%",x:"-50%"},animate:{opacity:1,y:"-50%",x:"-50%",transition:{delay:.125}},exit:{opacity:0,y:"-60%",x:"-50%",transition:{delay:0}},className:T()((t={},(0,n.Z)(t,be[c],!0),(0,n.Z)(t,u,!!u),t)),style:{maxHeight:"90%"},children:[s&&(0,Z.jsx)("div",{className:"relative",children:(0,Z.jsx)("button",{type:"button",onClick:p,className:"absolute flex items-center px-4 py-4 text-sm text-gray-300 right-4 -top-4 focus:text-black hover:text-black focus:outline-none",children:(0,Z.jsx)(ee,{icon:me(),className:"inline-block w-3 h-3 ml-2 text-black"})})}),r.Children.map(d,(function(e){return(0,r.isValidElement)(e)?(0,r.cloneElement)(e,{onDismiss:p}):null}))]})}))})})})})},xe=a(1508),je=a(266),ke=a(8216),Oe=a(5997),Ce=a(3444),_e=a(982),De=a(2953),Te=a(809),Le=a.n(Te),Ae=a(4155),Pe=function(e){var t=e.width,a=e.height,n=e.zoom,r=e.lat,o=e.lng,i=e.layerConfig;if(!i)throw Error("layerConfig param is required");if(!i.body)throw Error("layerConfig does not have body param");var s=i.body,l=i.account,c={version:"1.3.0",stat_tag:"API",layers:s.layers},d="?stat_tag=API&config=".concat(encodeURIComponent(JSON.stringify(c))),u="https://".concat(l,".carto.com/api/v1/map").concat(d);return fetch(u).then((function(e){if(e.status>=400)throw new Error(e.json());return e.json()})).then((function(e){var i=e.layergroupid;return"https://".concat(e.cdn_url.https,"/").concat(l,"/api/v1/map/static/center/").concat(i,"/").concat(n,"/").concat(r,"/").concat(o,"/").concat(t,"/").concat(a,".").concat("png")}))},Se=function(e){var t=e.width,a=e.height,n=e.layerConfig;if(!n)throw Error("layerConfig param is required");if(!n.body)throw Error("layerConfig does not have body param");var r=n.body.url,o=encodeURIComponent(JSON.stringify({wkid:4326})),i=encodeURIComponent(JSON.stringify({wkid:3857}));return"".concat(r,"/export?bbox=").concat("-125.15625000000001,-55.7765730186677,85.78125,72.81607371878991","&bboxSR=").concat(o,"&layers=&layerDefs=&size=").concat(t,"%2C").concat(a,"&imageSR=").concat(i,"&format=").concat("png","&transparent=true&dpi=&time=&layerTimeOptions=&dynamicLayers=&gdbVersion=&mapScale=&rotation=&f=image")},Ee=function(e){var t=e.width,a=e.height,n=e.zoom,r=e.lat,o=e.lng,i=e.format,s=e.layerSpec,l={account:"wri-01",body:{maxzoom:18,minzoom:3,layers:[{type:"mapnik",options:{sql:"SELECT the_geom_webmercator FROM gadm28_countries",cartocss:"#gadm28_countries { polygon-fill: #bbbbbb; polygon-opacity: 1; line-color: #FFFFFF; line-width: 0.5; line-opacity: 0.5; }",cartocss_version:"2.3.0"}}]}},c=l.account,d={version:"1.3.0",stat_tag:"API",layers:l.body.layers},u="?stat_tag=API&config=".concat(encodeURIComponent(JSON.stringify(d))),p="https://".concat(c,".carto.com/api/v1/map").concat(u);return fetch(p).then((function(e){if(e.status>=400)throw new Error("Bad response from server");return e.json()})).then((function(e){var l=e.layergroupid;return"gee"===s.provider||"nexgddp"===s.provider||"leaflet"===s.provider?"https://".concat(e.cdn_url.https,"/").concat(c,"/api/v1/map/").concat(l,"/0/0/0.").concat(i||"png"):"https://".concat(e.cdn_url.https,"/").concat(c,"/api/v1/map/static/center/").concat(l,"/").concat(n,"/").concat(r,"/").concat(o,"/").concat(t,"/").concat(a,".").concat(i||"png")}))},ze=function(e){var t=e.layerSpec,a=t.layerConfig;if(!a)throw Error("layerConfig param is required");if(!a.body)throw Error("layerConfig does not have body param");return"".concat(Ae.env.NEXT_PUBLIC_WRI_API_URL,"/v1/layer/").concat(t.id,"/tile/gee/0/0/0")},Me=function(e){var t,a,n=e.layerSpec;return null===n||void 0===n||null===(t=n.source)||void 0===t||null===(a=t.tiles)||void 0===a?void 0:a[0].replace("{z}","0").replace("{x}","0").replace("{y}","0")},Ne=function(){var e=(0,je.Z)(Le().mark((function e(t){var a,n,r,o,i,s,l,c,d;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.width,n=t.height,r=t.zoom,o=t.lat,i=t.lng,s=t.layerSpec){e.next=3;break}throw Error("No layerSpec specified.");case 3:l=s.layerConfig,c=s.provider,e.t0=c,e.next="carto"===e.t0?7:"cartodb"===e.t0?17:"mapservice"===e.t0?27:"featureservice"===e.t0?29:"arcgis"===e.t0?31:"gee"===e.t0?33:"leaflet"===e.t0?35:37;break;case 7:return e.prev=7,e.next=10,Pe({width:a,height:n,zoom:r,lat:o,lng:i,layerConfig:l});case 10:d=e.sent,e.next=16;break;case 13:e.prev=13,e.t1=e.catch(7),d=null;case 16:return e.abrupt("break",38);case 17:return e.prev=17,e.next=20,Pe({width:a,height:n,zoom:r,lat:o,lng:i,layerConfig:l});case 20:d=e.sent,e.next=26;break;case 23:e.prev=23,e.t2=e.catch(17),d=null;case 26:return e.abrupt("break",38);case 27:case 29:case 31:return d=Se({width:a,height:n,layerConfig:l}),e.abrupt("break",38);case 33:return d=ze({layerSpec:s}),e.abrupt("break",38);case 35:return d=Me({layerSpec:s}),e.abrupt("break",38);case 37:d=null;case 38:return e.abrupt("return",d);case 39:case"end":return e.stop()}}),e,null,[[7,13],[17,23]])})));return function(t){return e.apply(this,arguments)}}();function Ze(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ze(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Re(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,De.Z)(e);if(t){var r=(0,De.Z)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return(0,_e.Z)(this,a)}}var Ge=function(e){(0,Ce.Z)(a,e);var t=Re(a);function a(e){var n;return(0,ke.Z)(this,a),(n=t.call(this,e)).state={imageSrc:"",basemapSrc:""},n}return(0,Oe.Z)(a,[{key:"componentDidMount",value:function(){var e=(0,je.Z)(Le().mark((function e(){var t,a,n,r,o,i,s,l,c,d,u,p,h;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getSize(),a=t.width,n=t.height,r=this.props,o=r.zoom,i=void 0===o?1:o,s=r.lat,l=void 0===s?20:s,c=r.lng,d=void 0===c?-20:c,u=r.layerSpec,e.next=4,Ne({width:a,height:n,zoom:i,lat:l,lng:d,layerSpec:u});case 4:return p=e.sent,e.next=7,Ee({width:a,height:n,zoom:i,lat:l,lng:d,layerSpec:u});case 7:h=e.sent,this.setStateAsync({imageSrc:p,basemapSrc:h});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setStateAsync",value:function(e){var t=this;return new Promise((function(a){t.setState(e,a)}))}},{key:"getSize",value:function(){return{width:this.chart&&this.chart.offsetWidth?this.chart.offsetWidth:100,height:this.chart&&this.chart.offsetHeight?this.chart.offsetHeight:100}}},{key:"render",value:function(){var e=this,t=this.state,a=t.imageSrc,n=t.basemapSrc,r=a&&""!==a?"url('".concat(a,"') , url('").concat(n,"')"):"url('".concat(n,"')");return(0,Z.jsx)("div",{ref:function(t){e.chart=t},className:"w-full h-full bg-cover bg-center absolute left-0 rounded rounded-tr-none rounded-br-none",style:Ie({},r&&{backgroundImage:r})})}}]),a}(r.Component);function Ue(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var a=new Date(e),n=a.getTimezoneOffset(),r=new Date(a.getTime()+6e4*n);return t?"".concat(r.getMonth()+1,"/").concat(r.getDate(),"/").concat(r.getFullYear()):r.toDateString()}return null}var Be=function(e){var t,a,n,o,s=e.dataset,l=e.layer,c=e.metadata,u=(0,i.I0)(),p=h((function(e){return e.activeDatasets})),f=Ue(s.dataLastUpdated,!0),m=(0,r.useMemo)((function(){return Boolean(p.find((function(e){return e===s.id})))}),[p,s]),g=(0,r.useCallback)((function(){u(m?(0,d.GR)(p.filter((function(e){return e!==s.id}))):(0,d.GR)([].concat((0,xe.Z)(p),[s.id])))}),[s,p,m]);return(0,Z.jsxs)("div",{className:T()({"flex flex-row relative rounded transition-all duration-200 shadow-rw-2 hover:shadow-rw-3 bg-white border transform hover:-translate-y-1.5":!0,"focus:shadow-rw":m,"border-gray-100":!m}),style:{minHeight:130},children:[(0,Z.jsx)("div",{className:"flex w-9/12 relative",children:(0,Z.jsx)(Ge,{layerSpec:l})}),(0,Z.jsxs)("div",{className:"flex flex-col justify-between p-2",children:[(0,Z.jsxs)("div",{className:"flex justify-between",children:[(0,Z.jsx)("div",{className:"text-xs font-bold text-rw-gray-2",title:null===c||void 0===c||null===(t=c[0])||void 0===t?void 0:t.source,children:null===c||void 0===c||null===(a=c[0])||void 0===a?void 0:a.source}),(0,Z.jsx)("div",{className:"text-xs font-bold text-rw-gray-2",children:f})]}),(0,Z.jsxs)("div",{className:"mt-2",children:[(0,Z.jsx)("h4",{className:"text-rw-gray font-bold antialiased",children:(null===c||void 0===c||null===(n=c[0])||void 0===n||null===(o=n.info)||void 0===o?void 0:o.name)||s.name}),(0,Z.jsx)("button",{type:"button",className:T()({"w-full mt-6 px-8 py-1 rounded bg-transparent text-sm antialiased border-rw-pink border focus:outline-none":!0,"bg-rw-pink text-white":m,"text-rw-pink":!m}),onClick:g,children:m?"Active":"Add to map"})]})]})]})},Fe=function(e){var t=e.list;return(0,Z.jsx)(Z.Fragment,{children:t.map((function(e){return(0,Z.jsx)("div",{className:"dataset-card-list-item-container mt-2.5 first:mt-0",children:(0,Z.jsx)(Be,{dataset:e,layer:e.layer?e.layer.find((function(e){return e.default})):null,metadata:e.metadata})},e.id)}))})},He=function(){var e=O({},{placeholderData:[]}).data;return(0,Z.jsx)("div",{className:"w-80 h-full bg-white z-10 p-4 overflow-y-auto",children:(0,Z.jsx)(Fe,{list:e})})},Ve=a(7739),We=a.n(Ve);function qe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Je(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Xe=function(e,t){var a=We()(e,"dataset");return Object.keys(a).map((function(e){var n=a[e].find((function(e){var a,n=e.id;return!1===(null===(a=t[n])||void 0===a?void 0:a.visibility)}));return{id:e,dataset:e,visibility:!n,layers:a[e].map((function(e){return Je(Je({},e),{},{active:Boolean(e.default),visibility:!n})}))}}))};function Ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ye(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ke(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Qe={title:null,content:null},$e=function(){var e=(0,r.useState)(N),t=e[0],a=e[1],n=(0,r.useState)(Qe),s=n[0],f=n[1],y=(0,r.useState)([]),w=y[0],v=y[1],x=(0,i.I0)(),j=h((function(e){return e.map.basemap})),k=h((function(e){return e.map.labels})),C=h((function(e){return e.map.boundaries})),_=h((function(e){return e.layers})),D=h((function(e){return e.activeDatasets})),T=(0,r.useCallback)((function(e){a(e)}),[]),L=(0,r.useCallback)((function(e){a((function(t){return Ye(Ye({},t),{},{zoom:e,transitionDuration:250})}))}),[]),A=(0,r.useCallback)((function(e){var t=e.id;x((0,p.J8)(t))}),[]),P=(0,r.useCallback)((function(e){x((0,p.nr)(e))}),[]),S=(0,r.useCallback)((function(e){var t=e.value;x((0,p.Uu)(t))}),[]),E=(0,r.useCallback)((function(e){v(e)}),[]),z=(0,r.useCallback)((function(e,t){x((0,u.Kx)({id:e.id,params:{opacity:t}}))}),[]),M=(0,r.useCallback)((function(e){x((0,u.Kx)({id:e.id,params:{visibility:!e.visibility}}))}),[]),I=(0,r.useCallback)((function(){}),[]),R=(0,r.useCallback)((function(e){x((0,d.GR)(D.filter((function(t){return t!==e.dataset}))))}),[D]),G=O({},{placeholderData:[]}).data,B=(0,r.useMemo)((function(){return l()(G.filter((function(e){var t=e.id;return D.includes(t)})).map((function(e){return e.layer.map((function(e){return Ye(Ye({},e),_[e.id]||{})}))}))).sort((function(e,t){return w.indexOf(e.dataset)>w.indexOf(t.dataset)?1:-1}))}),[G,D,_,w]),F=(0,r.useMemo)((function(){return Xe(B,_)}),[B,_]),H=(0,r.useCallback)((function(e){var t,a,n,r=null===(t=G.find((function(t){return t.id===e.dataset})))||void 0===t?void 0:t.metadata;f({title:null===r||void 0===r||null===(a=r[0])||void 0===a?void 0:a.name,content:null===r||void 0===r||null===(n=r[0])||void 0===n?void 0:n.description})}),[G]);return(0,r.useEffect)((function(){var e=G.filter((function(e){return e.active})).map((function(e){return e.id}));x((0,d.GR)(e))}),[G]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(c.default,{children:(0,Z.jsx)("title",{children:"Land Carbon Explorer"})}),(0,Z.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,Z.jsx)(He,{}),(0,Z.jsxs)("div",{className:"absolute top-0 left-80 right-0 h-full",children:[(0,Z.jsx)(U,{mapboxApiAccessToken:"pk.eyJ1IjoicmVzb3VyY2V3YXRjaCIsImEiOiJjajFlcXZhNzcwMDBqMzNzMTQ0bDN6Y3U4In0.FRcIP_yusVaAy0mwAX1B8w",viewport:t,basemap:j,labels:k,boundaries:C,onMapViewportChange:T,children:function(e){return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(g.LayerManager,{map:e,plugin:m(),children:B.map((function(e){return(0,Z.jsx)(g.Layer,Ye({},e),e.id)}))})})}}),(0,Z.jsxs)("div",{className:"z-10 absolute top-10 right-5",children:[(0,Z.jsx)(le,{viewport:t,onZoomChange:L}),(0,Z.jsx)(ne,{basemap:j,labels:k,boundaries:C,onChangeBasemap:A,onChangeLabels:S,onChangeBoundaries:P})]}),(0,Z.jsx)("div",{className:"z-10 absolute bottom-10 left-5",children:(0,Z.jsx)(b.Legend,{maxHeight:300,onChangeOrder:E,children:F.map((function(e,t){return(0,Z.jsx)(b.LegendListItem,{index:t,layerGroup:e,toolbar:(0,Z.jsx)(b.LegendItemToolbar,{}),onChangeInfo:H,onChangeOpacity:z,onChangeVisibility:M,onChangeLayer:I,onRemoveLayer:R,children:(0,Z.jsx)(b.LegendItemTypes,{})},e.id)}))})})]})]}),(0,Z.jsx)(ve,{open:Boolean(s.content),onDismiss:function(){return f(Qe)},title:s.title,children:(0,Z.jsx)("div",{className:"p-6 overflow-y-auto",children:(0,Z.jsx)(o.Z,{children:s.content})})}),(0,Z.jsx)(b.Icons,{})]})}},5301:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(409)}])},1966:function(e,t,a){var n=a(7294),r=a(7854),o=a(5348),i=new r({id:"zoom-in-54941248--sprite",use:"zoom-in-54941248--sprite-usage",viewBox:"0 0 20 20",content:'<symbol viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="zoom-in-54941248--sprite">\n<path d="M15 8.91304H11.087V5H8.91304V8.91304H5V11.087H8.91304V15H11.087V11.087H15V8.91304Z" />\n</symbol>'});o.add(i);var s=function(e){return n.createElement("svg",Object.assign({viewBox:i.viewBox},e),n.createElement("use",{xlinkHref:"#"+i.id}))};s.viewBox=i.viewBox,s.id=i.id,s.content=i.content,s.url=i.url,s.toString=i.toString,e.exports=s,e.exports.default=s},7183:function(e,t,a){var n=a(7294),r=a(7854),o=a(5348),i=new r({id:"zoom-out-4420dc9b--sprite",use:"zoom-out-4420dc9b--sprite-usage",viewBox:"0 0 20 20",content:'<symbol viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="zoom-out-4420dc9b--sprite">\n<path d="M5 8.91309H15V11.087H5V8.91309Z" />\n</symbol>'});o.add(i);var s=function(e){return n.createElement("svg",Object.assign({viewBox:i.viewBox},e),n.createElement("use",{xlinkHref:"#"+i.id}))};s.viewBox=i.viewBox,s.id=i.id,s.content=i.content,s.url=i.url,s.toString=i.toString,e.exports=s,e.exports.default=s},7217:function(e,t,a){var n=a(7294),r=a(7854),o=a(5348),i=new r({id:"close-31a1ccb8--sprite",use:"close-31a1ccb8--sprite-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="close-31a1ccb8--sprite">\n<title>close</title>\n<path d="M16 11.636l-11.636-11.636-4.364 4.364 11.636 11.636-11.636 11.636 4.364 4.364 11.636-11.636 11.636 11.636 4.364-4.364-11.636-11.636 11.636-11.636-4.364-4.364z" />\n</symbol>'});o.add(i);var s=function(e){return n.createElement("svg",Object.assign({viewBox:i.viewBox},e),n.createElement("use",{xlinkHref:"#"+i.id}))};s.viewBox=i.viewBox,s.id=i.id,s.content=i.content,s.url=i.url,s.toString=i.toString,e.exports=s,e.exports.default=s},302:function(e,t,a){var n=a(7294),r=a(7854),o=a(5348),i=new r({id:"layers-2f433e95--sprite",use:"layers-2f433e95--sprite-usage",viewBox:"0 0 34 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 34 32" id="layers-2f433e95--sprite">\n<title>layers2</title>\n<path d="M27.616 17.497l3.643 2.503-14.556 10-14.556-10 3.641-2.501 10.916 7.501 10.913-7.503zM31.255 12l-14.553 10-14.56-10 14.56-10 14.553 10z" />\n</symbol>'});o.add(i);var s=function(e){return n.createElement("svg",Object.assign({viewBox:i.viewBox},e),n.createElement("use",{xlinkHref:"#"+i.id}))};s.viewBox=i.viewBox,s.id=i.id,s.content=i.content,s.url=i.url,s.toString=i.toString,e.exports=s,e.exports.default=s},7672:function(){},5307:function(){}},function(e){e.O(0,[900,885,634,452,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);